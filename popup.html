<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Kayak âžœ *I Settings</title>
  <style>
    body{ font: 14px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; margin:16px; color:#111;}
    label{ display:block; margin:10px 0 4px; font-weight:600; }
    input[type="text"],
    input[type="number"]{ width:120px; padding:6px 8px; border:1px solid #c7c7c7; border-radius:8px; font-size:14px; box-sizing:border-box; }
    small{ color:#666; }
    .row{ display:flex; gap:12px; align-items:center; }
    button{ margin-top:12px; padding:8px 12px; border-radius:8px; border:1px solid #c7c7c7; background:#fff; cursor:pointer; font-weight:600; }
    .ok{ color:#0a7; margin-left:8px; display:none; font-weight:600; }
    .toggle{ display:flex; align-items:center; gap:8px; margin:18px 0 4px; font-weight:600; }
    .toggle input{ width:auto; margin:0; }
    .toggle-help{ display:block; margin-left:26px; margin-top:-2px; font-size:12px; color:#666; }
    textarea{ width:100%; min-height:140px; padding:8px 10px; border:1px solid #c7c7c7; border-radius:8px; box-sizing:border-box; font: 13px/1.5 "SFMono-Regular","Consolas","Liberation Mono",monospace; resize:vertical; }
    textarea[readonly]{ background:#f8f8f8; color:#222; }
    .converter{ margin-top:22px; padding-top:16px; border-top:1px solid #e6e6e6; }
    .converter .row{ margin-bottom:4px; }
    .converter-actions{ display:flex; gap:10px; align-items:center; margin:12px 0; }
    .converter-actions button{ margin-top:0; }
    .convert-status{ font-size:12px; margin-bottom:8px; color:#0a7; display:none; }
    .convert-error{ font-size:12px; margin-bottom:8px; color:#c0392b; display:none; }
    .converter small{ display:block; margin-top:-6px; margin-bottom:10px; color:#888; }
    #copyBtn:disabled{ opacity:0.5; cursor:default; }
    .auto-detect{ display:flex; align-items:center; gap:12px; margin:6px 0 10px; }
    .auto-detect__note{ font-size:12px; color:#555; flex:1; }
    .link-btn{ border:none; background:none; padding:0; color:#0a7; font-size:12px; font-weight:600; cursor:pointer; text-decoration:underline; }
    .link-btn:disabled{ opacity:0.6; cursor:default; text-decoration:none; }
    .converter-toggle{ display:flex; flex-direction:column; align-items:flex-start; gap:2px; margin:12px 0 4px; font-weight:600; }
    .converter-toggle label{ display:flex; align-items:center; gap:8px; margin:0; font-weight:600; }
    .converter-toggle input{ width:auto; margin:0; }
    .converter-toggle small{ font-weight:400; font-size:12px; color:#666; margin:0; }
  </style>
</head>
<body>
  <div class="row">
    <div>
      <label for="bookingClass">Booking class</label>
      <input id="bookingClass" type="text" maxlength="1" placeholder="J" />
      <small>1 letter</small>
    </div>
    <div>
      <label for="segmentStatus">Segment status</label>
      <input id="segmentStatus" type="text" maxlength="3" placeholder="SS1" />
      <small>3 chars</small>
    </div>
  </div>
  <div class="auto-detect">
    <span id="bookingStatusNote" class="auto-detect__note"></span>
    <button id="restoreAutoBtn" type="button" class="link-btn">Restore auto cabin detection</button>
  </div>
  <label class="toggle"><input id="enableDirections" type="checkbox" /> Show OB / IB buttons</label>
  <small class="toggle-help">Adds inbound and outbound copy buttons next to *I.</small>
  <button id="saveBtn" type="button">Save</button><span id="ok" class="ok">Saved</span>

  <div class="converter">
    <label for="viInput">VI* itinerary</label>
    <textarea id="viInput" placeholder="Paste Sabre VI* output here"></textarea>
    <div class="converter-toggle">
      <label for="autoCopyToggle"><input id="autoCopyToggle" type="checkbox" /> Auto-copy result</label>
      <small>Automatically copies the converted *I after parsing.</small>
    </div>
    <div class="converter-actions">
      <button id="convertBtn" type="button">Convert to *I</button>
      <button id="copyBtn" type="button" disabled>Copy</button>
    </div>
    <div id="convertStatus" class="convert-status"></div>
    <div id="convertError" class="convert-error"></div>
    <label for="iOutput">*I result</label>
    <textarea id="iOutput" readonly placeholder="Converted *I output will appear here"></textarea>
  </div>

  <script src="popup.js"></script>
</body>
</html>
